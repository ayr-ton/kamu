<section class="books-shelf">
  <ul>
    <li id="{{copy.id}}" ng-repeat="copy in copies">
      <div class="books-shelf-content">
        <div class="books-shelf-image-container">
          <a href="">
            <div class="books-img">
              <img src="{{copy.book.imageUrl}}" alt="{{copy.book.title}}"/>
            </div>
          </a>
        </div>
      </div>
      <div class="book-shelf-info">
        <p class="book-shelf-title">{{copy.book.title}}</p>
        <p class="book-shelf-author">{{copy.book.author}}</p>
        <div class="books-shelf-borrow" ng-click="borrowCopy(copy.id)" ng-show="{{copy.available()}}">{{ 'APP_BORROW' | translate }}</div>
      </div>
    </li>
  </ul>
</section>
<!-- 
<div class="modal-root">
  <div
    bn-modals
    ng-show="subview"
    class="m-modals"
    ng-switch="subview">

    <form
      ng-switch-when="prompt"
      ng-controller="BorrowModalCtrl"
      ng-submit="submit()"
      class="modal">

      <p>
        Who are borrowing this book?
      </p>

      <p>
        <label>User</label>
        <input type="text" ng-model="form.user" />@thoughtworks.com
      </p>

      <p>
        <a ng-click="submit()">Borrow</a>
        &mdash;
        <a ng-click="cancel()">X</a>
      </p>
    </form>

    <form
      ng-switch-when="prompt"
      ng-controller="ReturnModalCtrl"
      ng-submit="submit()"
      class="modal">

      <p>
        {{ user }}, are you returning this book?
      </p>

      <p>
        <a ng-click="submit()">Return</a>
        &mdash;
        <a ng-click="cancel()">X</a>
      </p>
    </form>
  </div>
</div> -->

<div class="modal-root">
  <div bn-modals ng-show="subview" class="m-modals" ng-switch="subview">
    <div class="modal" bn-modals ng-show="subview" ng-switch="subview">
      <div class="popup-window" ng-controller="BorrowModalCtrl">
        <div class="popup-close" ng-click="cancel()"></div>
        <div class="popup-header">borrow a book</div>
         <form ng-switch-when="prompt" class="">
          <div class="popup-margin popup-bottom-line">
            <div class="popup-col2 popup-col2-left">
              <label for="user">user</label>
              <input type="text" ng-model="form.user" class="text-align-right input-no-margin"/>
            </div>
            <div class="popup-col2 popup-col2-right"><span class="popup-donator-mail">@thoughtworks.com</span></div>
          </div>
          <div class="popup-margin-small">
            <input type="button" value="borrow" ng-click="submit()" />
          </div>
        </form>
      </div>
    </div>
  </div>
</div>